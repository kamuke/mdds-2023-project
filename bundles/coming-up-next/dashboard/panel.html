<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<style>
			input {
				margin-top: 8px;
			}

			button {
				width: 100%;
			}

			.monospace {
				font-family: monospace;
			}

			.input-group, #movieForm {
				margin-bottom: 16px;
			}
		</style>
	</head>
	<body>
		<h3>Coming up next graphics:</h3>
		<form id="movieForm">
			<div class="input-group">
				<label for="title">Movies's title:</label>
				<input type="text" id="titleInput" />
			</div>
			<button type="submit">Animate in</button>
		</form>
		<button id="animateOut">Animate out</button>

		<script>
			const animateInRep = nodecg.Replicant('animateInReplicant');
			const animateOutRep = nodecg.Replicant('animateOutReplicant');
			const titleRep = nodecg.Replicant('titleReplicant');
			const titleInput = document.getElementById('titleInput');
			const movieForm = document.getElementById('movieForm');
			const animateOutBtn = document.getElementById('animateOut');

			animateInRep.value = false;
			animateOutRep.value = false;

			titleRep.on('change', (newValue, oldValue) => {
				console.log(`titleRep title changed from ${oldValue} to ${newValue}`);
				titleInput.value = newValue;
			});

			movieForm.addEventListener('submit', (event) => {
				event.preventDefault;
				titleRep.value = titleInput.value;
				animateInRep.value = true;
			});

			animateOutBtn.addEventListener('click', () => {
				animateOutRep.value = true;
			});
		</script>
	</body>
</html>
